<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>The Common Factors of Multiple Numbers Using Their GCD</title>
<style>
  body {font-family: Arial, sans-serif; background: linear-gradient(to bottom, #e8f5e9, #c8e6c9); margin:0; padding:20px; text-align:center; color:#333;}
  h1 {color:#2e7d32; font-size:3.2em; margin:20px 0 10px 0; line-height:1.2;}
  .card {max-width:900px; margin:30px auto; background:white; padding:50px; border-radius:20px; box-shadow:0 12px 35px rgba(0,0,0,0.15);}
  input {width:80%; max-width:700px; padding:18px; font-size:2.4em; text-align:center; border:6px solid #43a047; border-radius:15px; margin:20px 0;}
  button {padding:20px 60px; font-size:2em; background:#43a047; color:white; border:none; border-radius:15px; cursor:pointer; margin:30px 0;}
  button:hover {background:#2e7d32;}
  .step {background:#f9fff9; padding:28px; margin:30px auto; border-radius:15px; font-size:2.2em; max-width:820px; border-left:16px solid #66bb6a; text-align:center; box-shadow:0 4px 12px rgba(0,0,0,0.06); display:none;}
  .step strong {color:#1b5e20;}
  #euclid-img {width:240px; margin:10px auto 10px; border-radius:20px; border:8px solid white; box-shadow:0 8px 25px rgba(0,0,0,0.25);}
  #finalResult, #commonFactors {
    font-size:3.4em; font-weight:bold; color:#a855f7; line-height:1.6;
    margin:30px 0; padding:40px; background:#f3e8ff;
    border-radius:20px; border-left:14px solid #a855f7; display:none;
  }
</style>
</head>
<body>

<div class="card">
  <h1>GCD of Multiple Numbers</h1>

  <img id="euclid-img" src="https://www.worldhistory.org/uploads/images/4139.jpg?v=1747264448-0" alt="Euclid of Alexandria">

  <p style="font-size:2em; margin:30px 0;">Enter numbers separated by commas (example: 288, 432, 216, 180, 108)</p>
  <input type="text" id="numbers" placeholder="288, 432, 216, 180, 108" value="288, 432, 216, 180, 108">

  <button onclick="findGCDMultiple()">Show the Steps</button>

  <div id="steps"></div>
  <div id="finalResult" style="display:none;"></div>
  <div id="commonFactors" style="display:none;"></div>
</div>

<script>
function gcd(a, b) {
  a = Math.abs(a); b = Math.abs(b);
  while (b) { let t = b; b = a % b; a = t; }
  return a;
}

function getFactors(n) {
  let factors = [];
  for (let i = 1; i <= n; i++) {
    if (n % i === 0) factors.push(i);
  }
  return factors;
}

function findGCDMultiple() {
  const input = document.getElementById("numbers").value.trim();
  if (!input) { alert("Please enter some numbers!"); return; }

  const nums = input.split(',').map(n => parseInt(n.trim())).filter(n => !isNaN(n) && n > 0);
  if (nums.length < 2) { alert("Please enter at least two numbers!"); return; }

  document.getElementById("steps").innerHTML = "";
  document.getElementById("finalResult").style.display = "none";
  document.getElementById("commonFactors").style.display = "none";

  let currentGCD = gcd(nums[0], nums[1]);
  let step = 1;

  addStep(step++,
    `Find the GCD of the first pair<br>` +
    `<strong>${currentGCD}</strong> is the GCD of <strong>${nums[0]}</strong> and <strong>${nums[1]}</strong>`
  );

  for (let i = 2; i < nums.length; i++) {
    let previousGCD = currentGCD;
    currentGCD = gcd(currentGCD, nums[i]);

    addStep(step++,
      `<strong>${currentGCD}</strong> is GCD of <strong>${previousGCD}</strong> and <strong>${nums[i]}</strong> (the next number)`
    );
  }

  document.getElementById("finalResult").innerHTML =
    `<strong>${currentGCD}</strong> is the GCD of all numbers:<br>${nums.join(', ')}` +
    (currentGCD === 1 ? `<br><br>These numbers are <strong>coprime</strong> as a group!` : "");
  document.getElementById("finalResult").style.display = "block";

  const factors = getFactors(currentGCD);
  document.getElementById("commonFactors").innerHTML =
    `All common factors of the numbers are:<br>` +
    `<strong>${factors.join(', ')}</strong>`;
  document.getElementById("commonFactors").style.display = "block";

  document.querySelectorAll(".step").forEach(s => s.style.display = "block");
}

function addStep(n, text) {
  const div = document.createElement("div");
  div.className = "step";
  div.innerHTML = `<strong>Step ${n}:</strong><br>${text}`;
  document.getElementById("steps").appendChild(div);
}
</script>

<p style="margin-top:80px; font-size:1.6em; color:#555;">
  Euclidâ€™s Algorithm works beautifully for any number of integers!
</p>

</body>
</html>
